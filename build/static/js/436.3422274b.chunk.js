"use strict";(self.webpackChunkdvaintranet=self.webpackChunkdvaintranet||[]).push([[436],{436:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var l=s(555),a=s(43),n=s(411),r=s(954),d=s(533),o=s(59),c=s(472),i=(s(768),s(579));function u(){const[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[x,h]=(0,a.useState)([""]),[m,p]=(0,a.useState)(""),[b,j]=(0,a.useState)(0),[v,f]=(0,a.useState)(""),[N,g]=(0,a.useState)(""),[y,C]=(0,a.useState)([{subject:"",content:[""]}]),[w,S]=(0,a.useState)(!1);return(0,i.jsxs)("form",{className:"bg-white p-6 rounded-md border border-slate-100 space-y-4 mt-6  w-full max-w-[512px]",onSubmit:async t=>{t.preventDefault();const l={title:e,description:s,intro:n,Prerequisites:c,Includes:x.filter((e=>e)),"career path":m,projects:b,Duration:v,"skill level":N,syllabus:y.filter((e=>e.subject&&e.content.some((e=>e))))};try{S(!0),console.log("Course Data:",l),alert("Course created successfully!"),await(0,d.ue)(l)}catch(a){console.log(a)}finally{S(!1)}},children:[(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Title"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter title",value:e,onChange:e=>t(e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Description"}),(0,i.jsx)("textarea",{placeholder:"Enter description",value:s,onChange:e=>l(e.target.value),className:"px-3 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Introduction"}),(0,i.jsx)("textarea",{placeholder:"Enter introduction",value:n,onChange:e=>o(e.target.value),className:"px-3 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Prerequisites"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter prerequisites",value:c,onChange:e=>u(e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Includes"}),x.map(((e,t)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"text",placeholder:"Enter include",value:e,onChange:e=>((e,t)=>{const s=[...x];s[e]=t,h(s)})(t,e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"}),(0,i.jsx)("button",{type:"button",onClick:()=>(e=>{h(x.filter(((t,s)=>s!==e)))})(t),className:"text-red-500",children:"Remove"})]},t))),(0,i.jsx)("button",{type:"button",onClick:()=>{h([...x,""])},className:"px-3 h-8 bg-slate-500 text-white font-bold rounded-md",children:"Add Include"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Syllabus"}),y.map(((e,t)=>(0,i.jsxs)("div",{className:"border p-4 rounded-md",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,i.jsx)("input",{type:"text",placeholder:"Enter subject",value:e.subject,onChange:e=>((e,t)=>{const s=[...y];s[e].subject=t,C(s)})(t,e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"}),(0,i.jsx)("button",{type:"button",onClick:()=>{return e=t,void C(y.filter(((t,s)=>s!==e)));var e},className:"text-red-500",children:"Remove Subject"})]}),(0,i.jsxs)("div",{className:"ml-4",children:[e.content.map(((e,s)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,i.jsx)("input",{type:"text",placeholder:"Enter content",value:e,onChange:e=>((e,t,s)=>{const l=[...y];l[e].content[t]=s,C(l)})(t,s,e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"}),(0,i.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const s=[...y];s[e].content=s[e].content.filter(((e,s)=>s!==t)),C(s)})(t,s),className:"text-red-500",children:"Remove"})]},s))),(0,i.jsx)("button",{type:"button",onClick:()=>(e=>{const t=[...y];t[e].content.push(""),C(t)})(t),className:"text-blue-500",children:"Add Content"})]})]},t))),(0,i.jsx)("button",{type:"button",onClick:()=>{C([...y,{subject:"",content:[""]}])},className:"px-3 h-8 bg-slate-500 text-white font-bold rounded-md",children:"Add Subject"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Career Path"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter career path Eg: Front end development",value:m,onChange:e=>p(e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Number of Projects"}),(0,i.jsx)("input",{type:"number",placeholder:"Enter number of projects",value:b,onChange:e=>j(Number(e.target.value)),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Duration"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter duration EG: 6 Weeks",value:v,onChange:e=>f(e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{children:"Skill Level"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter skill level EG: Beginner",value:N,onChange:e=>g(e.target.value),className:"px-3 h-8 border border-slate-100 rounded-md outline-none"})]}),(0,i.jsx)("div",{className:"pt-10 flex justify-end",children:(0,i.jsx)("button",{disabled:w,type:"submit",className:"px-3 h-8 bg-slate-950 text-white font-bold rounded-md",children:w?(0,i.jsx)(r.BM,{width:24,height:24}):"Create Course"})})]})}function x(e){let{courseId:t,courseTitle:s}=e;const[n,o]=(0,a.useState)(""),[u,x]=(0,a.useState)(t),[h,m]=(0,a.useState)(""),[p,b]=(0,a.useState)([{id:Date.now(),url:""}]),[j,v]=(0,a.useState)([{id:Date.now(),url:""}]),[f,N]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[C,w]=(0,a.useState)({}),[S,k]=(0,a.useState)(!1);return(0,i.jsxs)("form",{className:"bg-white p-6 rounded-md border border-slate-100 mt-6 w-full max-w-[512px] space-y-6",onSubmit:async e=>{e.preventDefault();const t={};if(n||(t.batch="Batch cannot be empty"),u||(t.courseID="Course ID cannot be empty"),h||(t.title="Title cannot be empty"),p.some((e=>!e.url))&&(t.videoUrls="All video URLs must be filled"),j.some((e=>!e.url))&&(t.resources="All resource URLs must be filled"),f||(t.description="Description cannot be empty"),g||(t.assessment="Assessment cannot be empty"),Object.keys(t).length>0)return w(t);const s={assessment:{completed:!1,assessment:g},batchID:n,courseID:u,completed:!1,createdAt:c.Dc.now(),description:f,resources:j.map((e=>e.url)).filter((e=>e)),title:h,updatedAt:c.Dc.now(),videoURL:p.map((e=>e.url)).filter((e=>e))};try{k(!0),w({});const e=Date.now();await(0,d._q)(s);const t=Date.now()-e;t<3e3&&await new Promise((e=>setTimeout(e,3e3-t)))}catch(C){console.log(C)}finally{k(!1)}},children:[(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-xs",children:"Select Batch"}),(0,i.jsxs)("select",{className:"px-3 h-8 bg-white border  border-slate-100 rounded-md outline-none",value:n,onChange:e=>o(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"--Select Batch--"}),(0,i.jsx)("option",{value:"batchA2025",children:"batchA2025"}),(0,i.jsx)("option",{value:"batchB2025",children:"batchB2025"})]}),C.batch&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.batch})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-xs",children:"Course ID"}),(0,i.jsx)("select",{className:"px-3 h-8 bg-white border  border-slate-100 rounded-md outline-none",value:u,onChange:e=>x(e.target.value),children:(0,i.jsx)("option",{value:u,children:u})}),C.courseID&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.courseID})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-xs",children:"Title"}),(0,i.jsx)("input",{type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Enter lesson title",className:"px-3 h-8 border border-slate-100 rounded-md outline-none"}),C.title&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.title})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-xs",children:"Video URLs"}),p.map((e=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-end space-x-2 border rounded-md p-4",children:[(0,i.jsx)("input",{type:"url",value:e.url,onChange:t=>{return s=e.id,a=t.target.value,void b((e=>e.map((e=>e.id===s?(0,l.A)((0,l.A)({},e),{},{url:a}):e))));var s,a},placeholder:"Enter video URL",className:"px-3 h-8 border w-full border-slate-100 rounded-md outline-none"}),(0,i.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void b((e=>e.filter((e=>e.id!==t))));var t},className:"px-3 h-8 bg-slate-500 text-white font-bold rounded-md",children:"Remove"})]}),C.videoUrls&&(0,i.jsx)("p",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.videoUrls})]},e.id))),(0,i.jsx)("button",{type:"button",onClick:()=>{b([...p,{id:Date.now(),url:""}])},className:"px-3 h-8 bg-slate-950 text-white font-bold rounded-md",children:"Add Video URL"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-xs",children:"Resources"}),j.map((e=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-end space-x-2 border rounded-md p-4",children:[(0,i.jsx)("input",{type:"url",value:e.url,onChange:t=>{return s=e.id,a=t.target.value,void v((e=>e.map((e=>e.id===s?(0,l.A)((0,l.A)({},e),{},{url:a}):e))));var s,a},placeholder:"Enter resource URL",className:"px-3 h-8 border w-full border-slate-100 rounded-md outline-none"}),(0,i.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void v((e=>e.filter((e=>e.id!==t))));var t},className:"px-3 h-8 bg-slate-500 text-white font-bold rounded-md",children:"Remove"})]}),C.resources&&(0,i.jsx)("p",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.resources})]},e.id))),(0,i.jsx)("button",{type:"button",onClick:()=>{v([...j,{id:Date.now(),url:""}])},className:"px-3 h-8 bg-slate-950 text-white font-bold rounded-md",children:"Add Resource"})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-xs",children:"Description"}),(0,i.jsx)("textarea",{value:f,onChange:e=>N(e.target.value),placeholder:"Enter lesson description",className:"px-3 border border-slate-100 rounded-md outline-none"}),C.description&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.description})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"Assessment (Optional)"}),(0,i.jsx)("textarea",{name:"assessment",value:g,onChange:e=>y(e.target.value),placeholder:"Enter assessment details",className:"px-3 py-2 h-24 border border-slate-200 rounded-md outline-none focus:border-slate-400 transition-colors resize-y"}),C.assessment&&(0,i.jsx)("span",{className:"text-red-500 text-sm",children:null===C||void 0===C?void 0:C.assessment})]}),(0,i.jsx)("div",{className:"pt-10 flex justify-end",children:(0,i.jsx)("button",{disabled:S,type:"submit",className:"px-3 h-8 bg-slate-950 text-white text-center  font-bold rounded-md ",children:S?(0,i.jsx)(r.BM,{width:24,height:24}):"Add Lesson"})})]},t)}const h=function(){const[e,t]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),[h,m]=(0,a.useState)([]),[p,b]=(0,a.useState)(!1),[j,v]=(0,a.useState)(""),[f,N]=(0,a.useState)(),[g,y]=(0,a.useState)();return console.log(f),(0,a.useEffect)((()=>{!async function(){b(!0);try{const e=await(0,d.NJ)();m(e)}catch(j){j&&v("Unable to get all courses, contact support")}finally{b(!1)}}()}),[]),console.log(h),p?(0,i.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,i.jsx)(r.BM,{width:24,height:24,color:"#080808"})}):j?(0,i.jsx)("p",{children:j}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"Courses"}),(0,i.jsx)("div",{className:"my-10",children:(0,i.jsx)("button",{onClick:()=>t(!e),className:"px-3 h-8 bg-slate-950 text-white font-bold rounded-md ",children:"Create course"})}),(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-5",children:h.map((e=>(0,i.jsx)(a.Fragment,{children:(0,i.jsx)(o.A,(0,l.A)((0,l.A)({},e),{},{handleClick:()=>{console.log("clicked edit lesson"),N(e.id),y(e.title),c(!s)}}))},e.id)))})}),e&&(0,i.jsx)(n.A,{title:"Create Course",handleModalClick:()=>t(!e),children:(0,i.jsx)(u,{})}),s&&(0,i.jsx)(n.A,{title:"Add Lesson",handleModalClick:()=>{c(!s)},children:(0,i.jsx)(x,{courseId:f,courseTitle:g})})]})}}}]);
//# sourceMappingURL=436.3422274b.chunk.js.map